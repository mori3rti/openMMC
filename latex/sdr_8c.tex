\hypertarget{sdr_8c}{\section{/home/henrique/rep/open\-M\-M\-C/modules/sdr.c File Reference}
\label{sdr_8c}\index{/home/henrique/rep/open\-M\-M\-C/modules/sdr.\-c@{/home/henrique/rep/open\-M\-M\-C/modules/sdr.\-c}}
}
{\ttfamily \#include \char`\"{}Free\-R\-T\-O\-S.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}task.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}semphr.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sdr.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}sensors.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}ipmi.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}fpga\-\_\-spi.\-h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
size\-\_\-t \hyperlink{sdr_8c_ac8d1085abe88d21e4a0df14aa0312a8b}{sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-type} (\hyperlink{sdr_8h_a10e294bdfc1f1db30fa28253ea74ac31}{S\-D\-R\-\_\-\-T\-Y\-P\-E} type)
\item 
size\-\_\-t \hyperlink{sdr_8c_a0b05f9a10c5abf6ae0006160dac9246f}{sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-entry} (\hyperlink{structsensor__t}{sensor\-\_\-t} $\ast$entry)
\item 
\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void} \hyperlink{sdr_8c_a8ff671f56fe6749e5d35c8064e80a51e}{sensor\-\_\-init} (\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void})
\item 
\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void} \hyperlink{sdr_8c_a537d6c311893d2f5abba21e8380854d9}{sdr\-\_\-init} (\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void})
\item 
\hyperlink{structsensor__t}{sensor\-\_\-t} $\ast$ \hyperlink{sdr_8c_a95ea266b13fde16bad887385ebb29ca2}{sdr\-\_\-insert\-\_\-entry} (\hyperlink{sdr_8h_a10e294bdfc1f1db30fa28253ea74ac31}{S\-D\-R\-\_\-\-T\-Y\-P\-E} type, \hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void} $\ast$sdr, \hyperlink{task_8h_ae95f44d4cfeb4a599c6cc258d241cb6b}{Task\-Handle\-\_\-t} $\ast$monitor\-\_\-task, uint8\-\_\-t diag\-\_\-id, uint8\-\_\-t chipid)
\item 
\hyperlink{structsensor__t}{sensor\-\_\-t} $\ast$ \hyperlink{sdr_8c_a4b25a177fdd40cf9511b2ea5b352424b}{find\-\_\-sensor\-\_\-by\-\_\-sdr} (\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void} $\ast$sdr)
\item 
\hyperlink{structsensor__t}{sensor\-\_\-t} $\ast$ \hyperlink{sdr_8c_a2a9da1aafcb4ef730ec322b6267af292}{find\-\_\-sensor\-\_\-by\-\_\-id} (uint8\-\_\-t id)
\item 
\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void} \hyperlink{sdr_8c_a261b8f6d8d43a4324db44793f77387cf}{sdr\-\_\-remove\-\_\-entry} (\hyperlink{structsensor__t}{sensor\-\_\-t} $\ast$entry)
\item 
\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void} \hyperlink{sdr_8c_a80653f80d7ca91dce6b3d636dc5ba0f5}{sdr\-\_\-pop} (\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void})
\item 
\hyperlink{sdr_8c_a2ae009865e09417932515b866f23c7fa}{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R} (ipmi\-\_\-se\-\_\-get\-\_\-sdr\-\_\-info, \hyperlink{ipmi_8h_a52147ea24f7e244769e101c561f6a11d}{N\-E\-T\-F\-N\-\_\-\-S\-E}, \hyperlink{ipmi_8h_a28fe7aa3af6f8f5a02c34c226b3f65fd}{I\-P\-M\-I\-\_\-\-G\-E\-T\-\_\-\-D\-E\-V\-I\-C\-E\-\_\-\-S\-D\-R\-\_\-\-I\-N\-F\-O\-\_\-\-C\-M\-D}, \hyperlink{structipmi__msg}{ipmi\-\_\-msg} $\ast$req, \hyperlink{structipmi__msg}{ipmi\-\_\-msg} $\ast$rsp)
\item 
\hyperlink{sdr_8c_a109121cb9239a6aacc1963b2f5c7d2b5}{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R} (ipmi\-\_\-se\-\_\-set\-\_\-event\-\_\-reciever, \hyperlink{ipmi_8h_a52147ea24f7e244769e101c561f6a11d}{N\-E\-T\-F\-N\-\_\-\-S\-E}, \hyperlink{ipmi_8h_a231165e12fad5f14436b97d3748d4cf8}{I\-P\-M\-I\-\_\-\-S\-E\-T\-\_\-\-E\-V\-E\-N\-T\-\_\-\-R\-E\-C\-E\-I\-V\-E\-R\-\_\-\-C\-M\-D}, \hyperlink{structipmi__msg}{ipmi\-\_\-msg} $\ast$req, \hyperlink{structipmi__msg}{ipmi\-\_\-msg} $\ast$rsp)
\item 
\hyperlink{sdr_8c_a9fa5c04f48f340bb31b8e7f404d42a8d}{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R} (ipmi\-\_\-se\-\_\-get\-\_\-event\-\_\-reciever, \hyperlink{ipmi_8h_a52147ea24f7e244769e101c561f6a11d}{N\-E\-T\-F\-N\-\_\-\-S\-E}, \hyperlink{ipmi_8h_a9c46caf2cf11c852967f281e4ed3e1d0}{I\-P\-M\-I\-\_\-\-G\-E\-T\-\_\-\-E\-V\-E\-N\-T\-\_\-\-R\-E\-C\-E\-I\-V\-E\-R\-\_\-\-C\-M\-D}, \hyperlink{structipmi__msg}{ipmi\-\_\-msg} $\ast$req, \hyperlink{structipmi__msg}{ipmi\-\_\-msg} $\ast$rsp)
\begin{DoxyCompactList}\small\item\em Handler for \char`\"{}\-Get Event Receiver\char`\"{} command, as on I\-P\-M\-Iv2 1.\-1 section 29.\-1. \end{DoxyCompactList}\item 
\hyperlink{sdr_8c_abb5ee54d052c884997123f7c15820fdf}{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R} (ipmi\-\_\-se\-\_\-get\-\_\-sdr, \hyperlink{ipmi_8h_a52147ea24f7e244769e101c561f6a11d}{N\-E\-T\-F\-N\-\_\-\-S\-E}, \hyperlink{ipmi_8h_a0f4f5e223a928301700de8c6f70a0ab5}{I\-P\-M\-I\-\_\-\-G\-E\-T\-\_\-\-D\-E\-V\-I\-C\-E\-\_\-\-S\-D\-R\-\_\-\-C\-M\-D}, \hyperlink{structipmi__msg}{ipmi\-\_\-msg} $\ast$req, \hyperlink{structipmi__msg}{ipmi\-\_\-msg} $\ast$rsp)
\item 
\hyperlink{sdr_8c_ac0320510995fc494e7d33adf4c94c1dc}{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R} (ipmi\-\_\-se\-\_\-reserve\-\_\-device\-\_\-sdr, \hyperlink{ipmi_8h_a52147ea24f7e244769e101c561f6a11d}{N\-E\-T\-F\-N\-\_\-\-S\-E}, \hyperlink{ipmi_8h_a6d22608c995cc1f117384aca2ebf1897}{I\-P\-M\-I\-\_\-\-R\-E\-S\-E\-R\-V\-E\-\_\-\-D\-E\-V\-I\-C\-E\-\_\-\-S\-D\-R\-\_\-\-R\-E\-P\-O\-S\-I\-T\-O\-R\-Y\-\_\-\-C\-M\-D}, \hyperlink{structipmi__msg}{ipmi\-\_\-msg} $\ast$req, \hyperlink{structipmi__msg}{ipmi\-\_\-msg} $\ast$rsp)
\item 
\hyperlink{sdr_8c_af1900c87582a7e2fcf2c6ea7c022c9fc}{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R} (ipmi\-\_\-se\-\_\-get\-\_\-sensor\-\_\-reading, \hyperlink{ipmi_8h_a52147ea24f7e244769e101c561f6a11d}{N\-E\-T\-F\-N\-\_\-\-S\-E}, \hyperlink{ipmi_8h_a49851c70f05f335ebe8c5732f941035e}{I\-P\-M\-I\-\_\-\-G\-E\-T\-\_\-\-S\-E\-N\-S\-O\-R\-\_\-\-R\-E\-A\-D\-I\-N\-G\-\_\-\-C\-M\-D}, \hyperlink{structipmi__msg}{ipmi\-\_\-msg} $\ast$req, \hyperlink{structipmi__msg}{ipmi\-\_\-msg} $\ast$rsp)
\item 
\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void} \hyperlink{sdr_8c_a9a66580cf2e3e714398c0b4759a5f0e8}{check\-\_\-sensor\-\_\-event} (\hyperlink{structsensor__t}{sensor\-\_\-t} $\ast$sensor)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
volatile uint8\-\_\-t \hyperlink{sdr_8c_a8f6eb4c31da86d6a1eb8d350d1f90e9e}{sdr\-\_\-count} = 0
\item 
uint8\-\_\-t \hyperlink{sdr_8c_a434bb8b3749fe42c96712daa8588ea37}{event\-\_\-receiver\-\_\-addr} = 0x\-F\-F
\begin{DoxyCompactList}\small\item\em Handler for \char`\"{}\-Set Event Receiver\char`\"{} command, as on I\-P\-M\-Iv2 1.\-1 section 29.\-1. \end{DoxyCompactList}\item 
uint8\-\_\-t \hyperlink{sdr_8c_aa9fb3874bd82c8aabb9bde5d7ad73b0d}{event\-\_\-receiver\-\_\-lun} = 0x00
\item 
const \hyperlink{structSDR__type__12h__t}{S\-D\-R\-\_\-type\-\_\-12h\-\_\-t} \hyperlink{sdr_8c_a417522cd01f7df1d1381978e6f4e0e62}{S\-D\-R0}
\item 
const \hyperlink{structSDR__type__12h__t}{S\-D\-R\-\_\-type\-\_\-12h\-\_\-t} \hyperlink{sdr_8c_aa7bb04707e198d37abda1e7d676e9db1}{S\-D\-R\-\_\-\-R\-T\-M\-\_\-\-D\-E\-V\-\_\-\-L\-O\-C\-A\-T\-O\-R}
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{sdr_8c_a9a66580cf2e3e714398c0b4759a5f0e8}{\index{sdr.\-c@{sdr.\-c}!check\-\_\-sensor\-\_\-event@{check\-\_\-sensor\-\_\-event}}
\index{check\-\_\-sensor\-\_\-event@{check\-\_\-sensor\-\_\-event}!sdr.c@{sdr.\-c}}
\subsubsection[{check\-\_\-sensor\-\_\-event}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} check\-\_\-sensor\-\_\-event (
\begin{DoxyParamCaption}
\item[{{\bf sensor\-\_\-t} $\ast$}]{sensor}
\end{DoxyParamCaption}
)}}\label{sdr_8c_a9a66580cf2e3e714398c0b4759a5f0e8}
Should be rewritten to be compliant with R\-T\-M management !!

Compare value with threshold \hypertarget{sdr_8c_a2a9da1aafcb4ef730ec322b6267af292}{\index{sdr.\-c@{sdr.\-c}!find\-\_\-sensor\-\_\-by\-\_\-id@{find\-\_\-sensor\-\_\-by\-\_\-id}}
\index{find\-\_\-sensor\-\_\-by\-\_\-id@{find\-\_\-sensor\-\_\-by\-\_\-id}!sdr.c@{sdr.\-c}}
\subsubsection[{find\-\_\-sensor\-\_\-by\-\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sensor\-\_\-t}$\ast$ find\-\_\-sensor\-\_\-by\-\_\-id (
\begin{DoxyParamCaption}
\item[{uint8\-\_\-t}]{id}
\end{DoxyParamCaption}
)}}\label{sdr_8c_a2a9da1aafcb4ef730ec322b6267af292}
\hypertarget{sdr_8c_a4b25a177fdd40cf9511b2ea5b352424b}{\index{sdr.\-c@{sdr.\-c}!find\-\_\-sensor\-\_\-by\-\_\-sdr@{find\-\_\-sensor\-\_\-by\-\_\-sdr}}
\index{find\-\_\-sensor\-\_\-by\-\_\-sdr@{find\-\_\-sensor\-\_\-by\-\_\-sdr}!sdr.c@{sdr.\-c}}
\subsubsection[{find\-\_\-sensor\-\_\-by\-\_\-sdr}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sensor\-\_\-t}$\ast$ find\-\_\-sensor\-\_\-by\-\_\-sdr (
\begin{DoxyParamCaption}
\item[{{\bf void} $\ast$}]{sdr}
\end{DoxyParamCaption}
)}}\label{sdr_8c_a4b25a177fdd40cf9511b2ea5b352424b}
\hypertarget{sdr_8c_a2ae009865e09417932515b866f23c7fa}{\index{sdr.\-c@{sdr.\-c}!I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R@{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}}
\index{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R@{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}!sdr.c@{sdr.\-c}}
\subsubsection[{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R (
\begin{DoxyParamCaption}
\item[{ipmi\-\_\-se\-\_\-get\-\_\-sdr\-\_\-info}]{, }
\item[{{\bf N\-E\-T\-F\-N\-\_\-\-S\-E}}]{, }
\item[{{\bf I\-P\-M\-I\-\_\-\-G\-E\-T\-\_\-\-D\-E\-V\-I\-C\-E\-\_\-\-S\-D\-R\-\_\-\-I\-N\-F\-O\-\_\-\-C\-M\-D}}]{, }
\item[{{\bf ipmi\-\_\-msg} $\ast$}]{req, }
\item[{{\bf ipmi\-\_\-msg} $\ast$}]{rsp}
\end{DoxyParamCaption}
)}}\label{sdr_8c_a2ae009865e09417932515b866f23c7fa}
\hypertarget{sdr_8c_a109121cb9239a6aacc1963b2f5c7d2b5}{\index{sdr.\-c@{sdr.\-c}!I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R@{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}}
\index{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R@{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}!sdr.c@{sdr.\-c}}
\subsubsection[{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R (
\begin{DoxyParamCaption}
\item[{ipmi\-\_\-se\-\_\-set\-\_\-event\-\_\-reciever}]{, }
\item[{{\bf N\-E\-T\-F\-N\-\_\-\-S\-E}}]{, }
\item[{{\bf I\-P\-M\-I\-\_\-\-S\-E\-T\-\_\-\-E\-V\-E\-N\-T\-\_\-\-R\-E\-C\-E\-I\-V\-E\-R\-\_\-\-C\-M\-D}}]{, }
\item[{{\bf ipmi\-\_\-msg} $\ast$}]{req, }
\item[{{\bf ipmi\-\_\-msg} $\ast$}]{rsp}
\end{DoxyParamCaption}
)}}\label{sdr_8c_a109121cb9239a6aacc1963b2f5c7d2b5}
\hypertarget{sdr_8c_a9fa5c04f48f340bb31b8e7f404d42a8d}{\index{sdr.\-c@{sdr.\-c}!I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R@{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}}
\index{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R@{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}!sdr.c@{sdr.\-c}}
\subsubsection[{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R (
\begin{DoxyParamCaption}
\item[{ipmi\-\_\-se\-\_\-get\-\_\-event\-\_\-reciever}]{, }
\item[{{\bf N\-E\-T\-F\-N\-\_\-\-S\-E}}]{, }
\item[{{\bf I\-P\-M\-I\-\_\-\-G\-E\-T\-\_\-\-E\-V\-E\-N\-T\-\_\-\-R\-E\-C\-E\-I\-V\-E\-R\-\_\-\-C\-M\-D}}]{, }
\item[{{\bf ipmi\-\_\-msg} $\ast$}]{req, }
\item[{{\bf ipmi\-\_\-msg} $\ast$}]{rsp}
\end{DoxyParamCaption}
)}}\label{sdr_8c_a9fa5c04f48f340bb31b8e7f404d42a8d}


Handler for \char`\"{}\-Get Event Receiver\char`\"{} command, as on I\-P\-M\-Iv2 1.\-1 section 29.\-1. 

Returns the previously set event receiver address and L\-U\-N


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em req} & Incoming request to be handled and answered.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\hypertarget{sdr_8c_abb5ee54d052c884997123f7c15820fdf}{\index{sdr.\-c@{sdr.\-c}!I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R@{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}}
\index{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R@{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}!sdr.c@{sdr.\-c}}
\subsubsection[{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R (
\begin{DoxyParamCaption}
\item[{ipmi\-\_\-se\-\_\-get\-\_\-sdr}]{, }
\item[{{\bf N\-E\-T\-F\-N\-\_\-\-S\-E}}]{, }
\item[{{\bf I\-P\-M\-I\-\_\-\-G\-E\-T\-\_\-\-D\-E\-V\-I\-C\-E\-\_\-\-S\-D\-R\-\_\-\-C\-M\-D}}]{, }
\item[{{\bf ipmi\-\_\-msg} $\ast$}]{req, }
\item[{{\bf ipmi\-\_\-msg} $\ast$}]{rsp}
\end{DoxyParamCaption}
)}}\label{sdr_8c_abb5ee54d052c884997123f7c15820fdf}
\hypertarget{sdr_8c_ac0320510995fc494e7d33adf4c94c1dc}{\index{sdr.\-c@{sdr.\-c}!I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R@{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}}
\index{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R@{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}!sdr.c@{sdr.\-c}}
\subsubsection[{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R (
\begin{DoxyParamCaption}
\item[{ipmi\-\_\-se\-\_\-reserve\-\_\-device\-\_\-sdr}]{, }
\item[{{\bf N\-E\-T\-F\-N\-\_\-\-S\-E}}]{, }
\item[{{\bf I\-P\-M\-I\-\_\-\-R\-E\-S\-E\-R\-V\-E\-\_\-\-D\-E\-V\-I\-C\-E\-\_\-\-S\-D\-R\-\_\-\-R\-E\-P\-O\-S\-I\-T\-O\-R\-Y\-\_\-\-C\-M\-D}}]{, }
\item[{{\bf ipmi\-\_\-msg} $\ast$}]{req, }
\item[{{\bf ipmi\-\_\-msg} $\ast$}]{rsp}
\end{DoxyParamCaption}
)}}\label{sdr_8c_ac0320510995fc494e7d33adf4c94c1dc}
\hypertarget{sdr_8c_af1900c87582a7e2fcf2c6ea7c022c9fc}{\index{sdr.\-c@{sdr.\-c}!I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R@{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}}
\index{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R@{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}!sdr.c@{sdr.\-c}}
\subsubsection[{I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}I\-P\-M\-I\-\_\-\-H\-A\-N\-D\-L\-E\-R (
\begin{DoxyParamCaption}
\item[{ipmi\-\_\-se\-\_\-get\-\_\-sensor\-\_\-reading}]{, }
\item[{{\bf N\-E\-T\-F\-N\-\_\-\-S\-E}}]{, }
\item[{{\bf I\-P\-M\-I\-\_\-\-G\-E\-T\-\_\-\-S\-E\-N\-S\-O\-R\-\_\-\-R\-E\-A\-D\-I\-N\-G\-\_\-\-C\-M\-D}}]{, }
\item[{{\bf ipmi\-\_\-msg} $\ast$}]{req, }
\item[{{\bf ipmi\-\_\-msg} $\ast$}]{rsp}
\end{DoxyParamCaption}
)}}\label{sdr_8c_af1900c87582a7e2fcf2c6ea7c022c9fc}
\hypertarget{sdr_8c_a0b05f9a10c5abf6ae0006160dac9246f}{\index{sdr.\-c@{sdr.\-c}!sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-entry@{sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-entry}}
\index{sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-entry@{sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-entry}!sdr.c@{sdr.\-c}}
\subsubsection[{sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-entry}]{\setlength{\rightskip}{0pt plus 5cm}size\-\_\-t sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-entry (
\begin{DoxyParamCaption}
\item[{{\bf sensor\-\_\-t} $\ast$}]{entry}
\end{DoxyParamCaption}
)}}\label{sdr_8c_a0b05f9a10c5abf6ae0006160dac9246f}
\hypertarget{sdr_8c_ac8d1085abe88d21e4a0df14aa0312a8b}{\index{sdr.\-c@{sdr.\-c}!sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-type@{sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-type}}
\index{sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-type@{sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-type}!sdr.c@{sdr.\-c}}
\subsubsection[{sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-type}]{\setlength{\rightskip}{0pt plus 5cm}size\-\_\-t sdr\-\_\-get\-\_\-size\-\_\-by\-\_\-type (
\begin{DoxyParamCaption}
\item[{{\bf S\-D\-R\-\_\-\-T\-Y\-P\-E}}]{type}
\end{DoxyParamCaption}
)}}\label{sdr_8c_ac8d1085abe88d21e4a0df14aa0312a8b}
\hypertarget{sdr_8c_a537d6c311893d2f5abba21e8380854d9}{\index{sdr.\-c@{sdr.\-c}!sdr\-\_\-init@{sdr\-\_\-init}}
\index{sdr\-\_\-init@{sdr\-\_\-init}!sdr.c@{sdr.\-c}}
\subsubsection[{sdr\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} sdr\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{sdr_8c_a537d6c311893d2f5abba21e8380854d9}
\hypertarget{sdr_8c_a95ea266b13fde16bad887385ebb29ca2}{\index{sdr.\-c@{sdr.\-c}!sdr\-\_\-insert\-\_\-entry@{sdr\-\_\-insert\-\_\-entry}}
\index{sdr\-\_\-insert\-\_\-entry@{sdr\-\_\-insert\-\_\-entry}!sdr.c@{sdr.\-c}}
\subsubsection[{sdr\-\_\-insert\-\_\-entry}]{\setlength{\rightskip}{0pt plus 5cm}{\bf sensor\-\_\-t}$\ast$ sdr\-\_\-insert\-\_\-entry (
\begin{DoxyParamCaption}
\item[{{\bf S\-D\-R\-\_\-\-T\-Y\-P\-E}}]{type, }
\item[{{\bf void} $\ast$}]{sdr, }
\item[{{\bf Task\-Handle\-\_\-t} $\ast$}]{monitor\-\_\-task, }
\item[{uint8\-\_\-t}]{diag\-\_\-id, }
\item[{uint8\-\_\-t}]{chipid}
\end{DoxyParamCaption}
)}}\label{sdr_8c_a95ea266b13fde16bad887385ebb29ca2}
\hypertarget{sdr_8c_a80653f80d7ca91dce6b3d636dc5ba0f5}{\index{sdr.\-c@{sdr.\-c}!sdr\-\_\-pop@{sdr\-\_\-pop}}
\index{sdr\-\_\-pop@{sdr\-\_\-pop}!sdr.c@{sdr.\-c}}
\subsubsection[{sdr\-\_\-pop}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} sdr\-\_\-pop (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{sdr_8c_a80653f80d7ca91dce6b3d636dc5ba0f5}
\hypertarget{sdr_8c_a261b8f6d8d43a4324db44793f77387cf}{\index{sdr.\-c@{sdr.\-c}!sdr\-\_\-remove\-\_\-entry@{sdr\-\_\-remove\-\_\-entry}}
\index{sdr\-\_\-remove\-\_\-entry@{sdr\-\_\-remove\-\_\-entry}!sdr.c@{sdr.\-c}}
\subsubsection[{sdr\-\_\-remove\-\_\-entry}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} sdr\-\_\-remove\-\_\-entry (
\begin{DoxyParamCaption}
\item[{{\bf sensor\-\_\-t} $\ast$}]{entry}
\end{DoxyParamCaption}
)}}\label{sdr_8c_a261b8f6d8d43a4324db44793f77387cf}
\hypertarget{sdr_8c_a8ff671f56fe6749e5d35c8064e80a51e}{\index{sdr.\-c@{sdr.\-c}!sensor\-\_\-init@{sensor\-\_\-init}}
\index{sensor\-\_\-init@{sensor\-\_\-init}!sdr.c@{sdr.\-c}}
\subsubsection[{sensor\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} sensor\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{sdr_8c_a8ff671f56fe6749e5d35c8064e80a51e}


\subsection{Variable Documentation}
\hypertarget{sdr_8c_a434bb8b3749fe42c96712daa8588ea37}{\index{sdr.\-c@{sdr.\-c}!event\-\_\-receiver\-\_\-addr@{event\-\_\-receiver\-\_\-addr}}
\index{event\-\_\-receiver\-\_\-addr@{event\-\_\-receiver\-\_\-addr}!sdr.c@{sdr.\-c}}
\subsubsection[{event\-\_\-receiver\-\_\-addr}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t event\-\_\-receiver\-\_\-addr = 0x\-F\-F}}\label{sdr_8c_a434bb8b3749fe42c96712daa8588ea37}


Handler for \char`\"{}\-Set Event Receiver\char`\"{} command, as on I\-P\-M\-Iv2 1.\-1 section 29.\-1. 

Set (or reset) the address to which I\-P\-M\-I events will be sent. Also, disable sending events if command 0x\-F\-F is received.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em req} & Incoming request to be handled and answered.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void 
\end{DoxyReturn}
\hypertarget{sdr_8c_aa9fb3874bd82c8aabb9bde5d7ad73b0d}{\index{sdr.\-c@{sdr.\-c}!event\-\_\-receiver\-\_\-lun@{event\-\_\-receiver\-\_\-lun}}
\index{event\-\_\-receiver\-\_\-lun@{event\-\_\-receiver\-\_\-lun}!sdr.c@{sdr.\-c}}
\subsubsection[{event\-\_\-receiver\-\_\-lun}]{\setlength{\rightskip}{0pt plus 5cm}uint8\-\_\-t event\-\_\-receiver\-\_\-lun = 0x00}}\label{sdr_8c_aa9fb3874bd82c8aabb9bde5d7ad73b0d}
\hypertarget{sdr_8c_a417522cd01f7df1d1381978e6f4e0e62}{\index{sdr.\-c@{sdr.\-c}!S\-D\-R0@{S\-D\-R0}}
\index{S\-D\-R0@{S\-D\-R0}!sdr.c@{sdr.\-c}}
\subsubsection[{S\-D\-R0}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf S\-D\-R\-\_\-type\-\_\-12h\-\_\-t} S\-D\-R0}}\label{sdr_8c_a417522cd01f7df1d1381978e6f4e0e62}
{\bfseries Initial value\-:}
\begin{DoxyCode}
= \{
    .hdr.recID\_LSB = 0x00,
    .hdr.recID\_MSB = 0x00,
    .hdr.SDRversion = 0x51, 
    .hdr.rectype = \hyperlink{sdr_8h_a10e294bdfc1f1db30fa28253ea74ac31a7d5b08cf4cf3337aefb9fe1dd2e47cb7}{TYPE\_12}, 
    .hdr.reclength = \textcolor{keyword}{sizeof}(\hyperlink{structSDR__type__12h__t}{SDR\_type\_12h\_t}) - \textcolor{keyword}{sizeof}(
      \hyperlink{structSDR__entry__hdr__t}{SDR\_entry\_hdr\_t}),


    .slaveaddr = 0x00,
    .chnum = 0x00,
    .power\_notification\_global\_init = 0x04,
    .device\_cap = 0x3b,
    .reserved[0] = 0x00,
    .reserved[1] = 0x00,
    .reserved[2] = 0x00,
    .entityID = 0xC1,
    .entityinstance = 0x00,
    .OEM = 0x00,
    .IDtypelen = 0xc0 | \hyperlink{utils_8h_a4259d33ba8f3fa1d78379bfa7581ee94}{STR\_SIZE}(\hyperlink{utils_8h_a18d295a837ac71add5578860b55e5502}{STR}(TARGET\_BOARD\_NAME)), 
    .IDstring = \hyperlink{utils_8h_a18d295a837ac71add5578860b55e5502}{STR}(TARGET\_BOARD\_NAME)
\}
\end{DoxyCode}
\hypertarget{sdr_8c_a8f6eb4c31da86d6a1eb8d350d1f90e9e}{\index{sdr.\-c@{sdr.\-c}!sdr\-\_\-count@{sdr\-\_\-count}}
\index{sdr\-\_\-count@{sdr\-\_\-count}!sdr.c@{sdr.\-c}}
\subsubsection[{sdr\-\_\-count}]{\setlength{\rightskip}{0pt plus 5cm}volatile uint8\-\_\-t sdr\-\_\-count = 0}}\label{sdr_8c_a8f6eb4c31da86d6a1eb8d350d1f90e9e}
\hypertarget{sdr_8c_aa7bb04707e198d37abda1e7d676e9db1}{\index{sdr.\-c@{sdr.\-c}!S\-D\-R\-\_\-\-R\-T\-M\-\_\-\-D\-E\-V\-\_\-\-L\-O\-C\-A\-T\-O\-R@{S\-D\-R\-\_\-\-R\-T\-M\-\_\-\-D\-E\-V\-\_\-\-L\-O\-C\-A\-T\-O\-R}}
\index{S\-D\-R\-\_\-\-R\-T\-M\-\_\-\-D\-E\-V\-\_\-\-L\-O\-C\-A\-T\-O\-R@{S\-D\-R\-\_\-\-R\-T\-M\-\_\-\-D\-E\-V\-\_\-\-L\-O\-C\-A\-T\-O\-R}!sdr.c@{sdr.\-c}}
\subsubsection[{S\-D\-R\-\_\-\-R\-T\-M\-\_\-\-D\-E\-V\-\_\-\-L\-O\-C\-A\-T\-O\-R}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf S\-D\-R\-\_\-type\-\_\-12h\-\_\-t} S\-D\-R\-\_\-\-R\-T\-M\-\_\-\-D\-E\-V\-\_\-\-L\-O\-C\-A\-T\-O\-R}}\label{sdr_8c_aa7bb04707e198d37abda1e7d676e9db1}
{\bfseries Initial value\-:}
\begin{DoxyCode}
= \{
    .hdr.recID\_LSB = 0x00,
    .hdr.recID\_MSB = 0x00,
    .hdr.SDRversion = 0x51, 
    .hdr.rectype = \hyperlink{sdr_8h_a10e294bdfc1f1db30fa28253ea74ac31a7d5b08cf4cf3337aefb9fe1dd2e47cb7}{TYPE\_12}, 
    .hdr.reclength = \textcolor{keyword}{sizeof}(\hyperlink{structSDR__type__12h__t}{SDR\_type\_12h\_t}) - \textcolor{keyword}{sizeof}(
      \hyperlink{structSDR__entry__hdr__t}{SDR\_entry\_hdr\_t}),


    .slaveaddr = 0x00,
    .chnum = 0x00,
    .power\_notification\_global\_init = 0x04,
    .device\_cap = 0x3b,
    .reserved[0] = 0x00,
    .reserved[1] = 0x00,
    .reserved[2] = 0x00,
    .entityID = 0xC0,
    .entityinstance = 0x00,
    .OEM = 0x00,
    .IDtypelen = 0xc0 | (\hyperlink{utils_8h_a4259d33ba8f3fa1d78379bfa7581ee94}{STR\_SIZE}(\hyperlink{utils_8h_a18d295a837ac71add5578860b55e5502}{STR}(TARGET\_BOARD\_NAME)) +4), 
    .IDstring = \hyperlink{utils_8h_a18d295a837ac71add5578860b55e5502}{STR}(TARGET\_BOARD\_NAME)\textcolor{stringliteral}{"-RTM"}
\}
\end{DoxyCode}
