\hypertarget{SDCC_2Cygnal_2port_8c}{\section{/home/henrique/rep/open\-M\-M\-C/\-Free\-R\-T\-O\-S/portable/\-S\-D\-C\-C/\-Cygnal/port.c File Reference}
\label{SDCC_2Cygnal_2port_8c}\index{/home/henrique/rep/open\-M\-M\-C/\-Free\-R\-T\-O\-S/portable/\-S\-D\-C\-C/\-Cygnal/port.\-c@{/home/henrique/rep/open\-M\-M\-C/\-Free\-R\-T\-O\-S/portable/\-S\-D\-C\-C/\-Cygnal/port.\-c}}
}
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include \char`\"{}Free\-R\-T\-O\-S.\-h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}task.\-h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{SDCC_2Cygnal_2port_8c_a2ded1dd76ecf66f68443e7135f8807fc}{port\-C\-L\-O\-C\-K\-\_\-\-D\-I\-V\-I\-S\-O\-R}~( ( uint32\-\_\-t ) 12 )
\item 
\#define \hyperlink{SDCC_2Cygnal_2port_8c_a60c2a5e51d2dcbefaeb7201dc327d2c1}{port\-M\-A\-X\-\_\-\-T\-I\-M\-E\-R\-\_\-\-V\-A\-L\-U\-E}~( ( uint32\-\_\-t ) 0xffff )
\item 
\#define \hyperlink{SDCC_2Cygnal_2port_8c_a3b69ebb0c1475f1bb8ed771e6c589e2a}{port\-E\-N\-A\-B\-L\-E\-\_\-\-T\-I\-M\-E\-R}~( ( uint8\-\_\-t ) 0x04 )
\item 
\#define \hyperlink{SDCC_2Cygnal_2port_8c_aba58c81908613d65d0215a70cc1a521d}{port\-T\-I\-M\-E\-R\-\_\-2\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-E\-N\-A\-B\-L\-E}~( ( uint8\-\_\-t ) 0x20 )
\item 
\#define \hyperlink{SDCC_2Cygnal_2port_8c_a21f6ad49a2286a8c53bd5da602351487}{port\-G\-L\-O\-B\-A\-L\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-B\-I\-T}~( ( \hyperlink{Flsh186_2prtmacro_8h_a84e9a8ba132feed0b2401c1f4e2ac63c}{Stack\-Type\-\_\-t} ) 0x80 )
\item 
\#define \hyperlink{SDCC_2Cygnal_2port_8c_a3b89bf729488db5c18a40f8a016e3838}{port\-I\-N\-I\-T\-I\-A\-L\-\_\-\-P\-S\-W}~( ( \hyperlink{Flsh186_2prtmacro_8h_a84e9a8ba132feed0b2401c1f4e2ac63c}{Stack\-Type\-\_\-t} ) 0x00 )
\item 
\#define \hyperlink{SDCC_2Cygnal_2port_8c_a097bd32546c0c342a43bb0c66977f600}{port\-C\-L\-E\-A\-R\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-F\-L\-A\-G}()~T\-M\-R2\-C\-N \&= $\sim$0x80;
\item 
\#define \hyperlink{SDCC_2Cygnal_2port_8c_a0003aec0622b1914fead6587479431a4}{port\-C\-O\-P\-Y\-\_\-\-S\-T\-A\-C\-K\-\_\-\-T\-O\-\_\-\-X\-R\-A\-M}()
\item 
\#define \hyperlink{SDCC_2Cygnal_2port_8c_ac4ff2bfcb6b4f48de9c31f323b245058}{port\-C\-O\-P\-Y\-\_\-\-X\-R\-A\-M\-\_\-\-T\-O\-\_\-\-S\-T\-A\-C\-K}()
\item 
\#define \hyperlink{SDCC_2Cygnal_2port_8c_a798f37b250502b49763c54a56b3aa4b0}{port\-S\-A\-V\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T}()
\item 
\#define \hyperlink{SDCC_2Cygnal_2port_8c_a8d3a167375b5b57944a57df23d45b39e}{port\-R\-E\-S\-T\-O\-R\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T}()
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void} \hyperlink{SDCC_2Cygnal_2port_8c_af5b0f7452857787ed70ce2856ca74c4b}{T\-C\-B\-\_\-t}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{Flsh186_2prtmacro_8h_a84e9a8ba132feed0b2401c1f4e2ac63c}{Stack\-Type\-\_\-t} $\ast$ \hyperlink{SDCC_2Cygnal_2port_8c_a474fbbb58ea661a1557f05adc41120c1}{px\-Port\-Initialise\-Stack} (\hyperlink{Flsh186_2prtmacro_8h_a84e9a8ba132feed0b2401c1f4e2ac63c}{Stack\-Type\-\_\-t} $\ast$px\-Top\-Of\-Stack, \hyperlink{projdefs_8h_a24177544ba9c507a9429d6d5761eb487}{Task\-Function\-\_\-t} px\-Code, \hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void} $\ast$pv\-Parameters)
\item 
\hyperlink{Flsh186_2prtmacro_8h_ac826f39420fcf5b32ba7123a1d243f99}{Base\-Type\-\_\-t} \hyperlink{SDCC_2Cygnal_2port_8c_ade5a8c6666e7413a0355cc252029c5c6}{x\-Port\-Start\-Scheduler} (\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void})
\item 
\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void} \hyperlink{SDCC_2Cygnal_2port_8c_af76f3c0b44c5b5c06fc046a4ee1a6423}{v\-Port\-End\-Scheduler} (\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void})
\item 
\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void} \hyperlink{SDCC_2Cygnal_2port_8c_add01c927fb689f7ec170e42d47d27927}{v\-Port\-Yield} (\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void})
\item 
\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void} \hyperlink{SDCC_2Cygnal_2port_8c_ae1064ff55886ef9cf64f424672819a27}{v\-Timer2\-I\-S\-R} (\hyperlink{Paradigm_2Tern__EE_2small_2portmacro_8h_a14d32f8130d3c0b212cfc751730b5b49}{void})
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
volatile \hyperlink{BCC_216BitDOS_2common_2portasm_8h_af5b0f7452857787ed70ce2856ca74c4b}{T\-C\-B\-\_\-t} $\ast$volatile \hyperlink{SDCC_2Cygnal_2port_8c_af7b1fc0a36e224b885fb22b9936a03a2}{px\-Current\-T\-C\-B}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{SDCC_2Cygnal_2port_8c_a097bd32546c0c342a43bb0c66977f600}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!port\-C\-L\-E\-A\-R\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-F\-L\-A\-G@{port\-C\-L\-E\-A\-R\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-F\-L\-A\-G}}
\index{port\-C\-L\-E\-A\-R\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-F\-L\-A\-G@{port\-C\-L\-E\-A\-R\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-F\-L\-A\-G}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{port\-C\-L\-E\-A\-R\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-F\-L\-A\-G}]{\setlength{\rightskip}{0pt plus 5cm}\#define port\-C\-L\-E\-A\-R\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-F\-L\-A\-G(
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)~T\-M\-R2\-C\-N \&= $\sim$0x80;}}\label{SDCC_2Cygnal_2port_8c_a097bd32546c0c342a43bb0c66977f600}
\hypertarget{SDCC_2Cygnal_2port_8c_a2ded1dd76ecf66f68443e7135f8807fc}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!port\-C\-L\-O\-C\-K\-\_\-\-D\-I\-V\-I\-S\-O\-R@{port\-C\-L\-O\-C\-K\-\_\-\-D\-I\-V\-I\-S\-O\-R}}
\index{port\-C\-L\-O\-C\-K\-\_\-\-D\-I\-V\-I\-S\-O\-R@{port\-C\-L\-O\-C\-K\-\_\-\-D\-I\-V\-I\-S\-O\-R}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{port\-C\-L\-O\-C\-K\-\_\-\-D\-I\-V\-I\-S\-O\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define port\-C\-L\-O\-C\-K\-\_\-\-D\-I\-V\-I\-S\-O\-R~( ( uint32\-\_\-t ) 12 )}}\label{SDCC_2Cygnal_2port_8c_a2ded1dd76ecf66f68443e7135f8807fc}
\hypertarget{SDCC_2Cygnal_2port_8c_a0003aec0622b1914fead6587479431a4}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!port\-C\-O\-P\-Y\-\_\-\-S\-T\-A\-C\-K\-\_\-\-T\-O\-\_\-\-X\-R\-A\-M@{port\-C\-O\-P\-Y\-\_\-\-S\-T\-A\-C\-K\-\_\-\-T\-O\-\_\-\-X\-R\-A\-M}}
\index{port\-C\-O\-P\-Y\-\_\-\-S\-T\-A\-C\-K\-\_\-\-T\-O\-\_\-\-X\-R\-A\-M@{port\-C\-O\-P\-Y\-\_\-\-S\-T\-A\-C\-K\-\_\-\-T\-O\-\_\-\-X\-R\-A\-M}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{port\-C\-O\-P\-Y\-\_\-\-S\-T\-A\-C\-K\-\_\-\-T\-O\-\_\-\-X\-R\-A\-M}]{\setlength{\rightskip}{0pt plus 5cm}\#define port\-C\-O\-P\-Y\-\_\-\-S\-T\-A\-C\-K\-\_\-\-T\-O\-\_\-\-X\-R\-A\-M(
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{SDCC_2Cygnal_2port_8c_a0003aec0622b1914fead6587479431a4}
{\bfseries Value\-:}
\begin{DoxyCode}
\{                                                                                               \(\backslash\)
    \textcolor{comment}{/* pxCurrentTCB points to a TCB which itself points to the location into                    \(\backslash\)}
\textcolor{comment}{    which the first stack byte should be copied.  Set pxXRAMStack to point                      \(\backslash\)}
\textcolor{comment}{    to the location into which the first stack byte is to be copied. */}                         \(\backslash\)
    pxXRAMStack = ( xdata \hyperlink{Flsh186_2prtmacro_8h_a84e9a8ba132feed0b2401c1f4e2ac63c}{StackType\_t} * ) *( ( xdata \hyperlink{Flsh186_2prtmacro_8h_a84e9a8ba132feed0b2401c1f4e2ac63c}{StackType\_t} ** ) 
      \hyperlink{CCS_2MSP430X_2port_8c_af7b1fc0a36e224b885fb22b9936a03a2}{pxCurrentTCB} );     \(\backslash\)
                                                                                                \(\backslash\)
    \textcolor{comment}{/* Set pxRAMStack to point to the first byte to be coped from the stack. */}                 \(\backslash\)
    pxRAMStack = ( data \hyperlink{Flsh186_2prtmacro_8h_a84e9a8ba132feed0b2401c1f4e2ac63c}{StackType\_t} * data ) configSTACK\_START;                              \(\backslash\)
                                                                                                \(\backslash\)
    \textcolor{comment}{/* Calculate the size of the stack we are about to copy from the current                    \(\backslash\)}
\textcolor{comment}{    stack pointer value. */}                                                                     \(\backslash\)
    ucStackBytes = \hyperlink{isr__support_8h_a85224ff891d5fa22f8aa26c3eaca34f1}{SP} - ( configSTACK\_START - 1 );                                                \(\backslash\)
                                                                                                \(\backslash\)
    \textcolor{comment}{/* Before starting to copy the stack, store the calculated stack size so                    \(\backslash\)}
\textcolor{comment}{    the stack can be restored when the task is resumed. */}                                      \(\backslash\)
    *pxXRAMStack = ucStackBytes;                                                                \(\backslash\)
                                                                                                \(\backslash\)
    \textcolor{comment}{/* Copy each stack byte in turn.  pxXRAMStack is incremented first as we                    \(\backslash\)}
\textcolor{comment}{    have already stored the stack size into XRAM. */}                                            \(\backslash\)
    while( ucStackBytes )                                                                       \(\backslash\)
    \{                                                                                           \(\backslash\)
        pxXRAMStack++;                                                                          \(\backslash\)
        *pxXRAMStack = *pxRAMStack;                                                             \(\backslash\)
        pxRAMStack++;                                                                           \(\backslash\)
        ucStackBytes--;                                                                         \(\backslash\)
    \}                                                                                           \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{SDCC_2Cygnal_2port_8c_ac4ff2bfcb6b4f48de9c31f323b245058}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!port\-C\-O\-P\-Y\-\_\-\-X\-R\-A\-M\-\_\-\-T\-O\-\_\-\-S\-T\-A\-C\-K@{port\-C\-O\-P\-Y\-\_\-\-X\-R\-A\-M\-\_\-\-T\-O\-\_\-\-S\-T\-A\-C\-K}}
\index{port\-C\-O\-P\-Y\-\_\-\-X\-R\-A\-M\-\_\-\-T\-O\-\_\-\-S\-T\-A\-C\-K@{port\-C\-O\-P\-Y\-\_\-\-X\-R\-A\-M\-\_\-\-T\-O\-\_\-\-S\-T\-A\-C\-K}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{port\-C\-O\-P\-Y\-\_\-\-X\-R\-A\-M\-\_\-\-T\-O\-\_\-\-S\-T\-A\-C\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define port\-C\-O\-P\-Y\-\_\-\-X\-R\-A\-M\-\_\-\-T\-O\-\_\-\-S\-T\-A\-C\-K(
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{SDCC_2Cygnal_2port_8c_ac4ff2bfcb6b4f48de9c31f323b245058}
{\bfseries Value\-:}
\begin{DoxyCode}
\{                                                                                               \(\backslash\)
    \textcolor{comment}{/* Setup the pointers as per portCOPY\_STACK\_TO\_XRAM(), but this time to                     \(\backslash\)}
\textcolor{comment}{    copy the data back out of XRAM and into the stack. */}                                       \(\backslash\)
    pxXRAMStack = ( xdata \hyperlink{Flsh186_2prtmacro_8h_a84e9a8ba132feed0b2401c1f4e2ac63c}{StackType\_t} * ) *( ( xdata \hyperlink{Flsh186_2prtmacro_8h_a84e9a8ba132feed0b2401c1f4e2ac63c}{StackType\_t} ** ) 
      \hyperlink{CCS_2MSP430X_2port_8c_af7b1fc0a36e224b885fb22b9936a03a2}{pxCurrentTCB} );     \(\backslash\)
    pxRAMStack = ( data \hyperlink{Flsh186_2prtmacro_8h_a84e9a8ba132feed0b2401c1f4e2ac63c}{StackType\_t} * data ) ( configSTACK\_START - 1 );                      \(\backslash\)
                                                                                                \(\backslash\)
    \textcolor{comment}{/* The first value stored in XRAM was the size of the stack - i.e. the                      \(\backslash\)}
\textcolor{comment}{    number of bytes we need to copy back. */}                                                    \(\backslash\)
    ucStackBytes = pxXRAMStack[ 0 ];                                                            \(\backslash\)
                                                                                                \(\backslash\)
    \textcolor{comment}{/* Copy the required number of bytes back into the stack. */}                                \(\backslash\)
    do                                                                                          \(\backslash\)
    \{                                                                                           \(\backslash\)
        pxXRAMStack++;                                                                          \(\backslash\)
        pxRAMStack++;                                                                           \(\backslash\)
        *pxRAMStack = *pxXRAMStack;                                                             \(\backslash\)
        ucStackBytes--;                                                                         \(\backslash\)
    \} \textcolor{keywordflow}{while}( ucStackBytes );                                                                    \(\backslash\)
                                                                                                \(\backslash\)
    \textcolor{comment}{/* Restore the stack pointer ready to use the restored stack. */}                            
      \hyperlink{isr__support_8h_a85224ff891d5fa22f8aa26c3eaca34f1}{\(\backslash\)}
\hyperlink{isr__support_8h_a85224ff891d5fa22f8aa26c3eaca34f1}{    SP} = ( uint8\_t ) pxRAMStack;                                                     \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{SDCC_2Cygnal_2port_8c_a3b69ebb0c1475f1bb8ed771e6c589e2a}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!port\-E\-N\-A\-B\-L\-E\-\_\-\-T\-I\-M\-E\-R@{port\-E\-N\-A\-B\-L\-E\-\_\-\-T\-I\-M\-E\-R}}
\index{port\-E\-N\-A\-B\-L\-E\-\_\-\-T\-I\-M\-E\-R@{port\-E\-N\-A\-B\-L\-E\-\_\-\-T\-I\-M\-E\-R}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{port\-E\-N\-A\-B\-L\-E\-\_\-\-T\-I\-M\-E\-R}]{\setlength{\rightskip}{0pt plus 5cm}\#define port\-E\-N\-A\-B\-L\-E\-\_\-\-T\-I\-M\-E\-R~( ( uint8\-\_\-t ) 0x04 )}}\label{SDCC_2Cygnal_2port_8c_a3b69ebb0c1475f1bb8ed771e6c589e2a}
\hypertarget{SDCC_2Cygnal_2port_8c_a21f6ad49a2286a8c53bd5da602351487}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!port\-G\-L\-O\-B\-A\-L\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-B\-I\-T@{port\-G\-L\-O\-B\-A\-L\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-B\-I\-T}}
\index{port\-G\-L\-O\-B\-A\-L\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-B\-I\-T@{port\-G\-L\-O\-B\-A\-L\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-B\-I\-T}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{port\-G\-L\-O\-B\-A\-L\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-B\-I\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define port\-G\-L\-O\-B\-A\-L\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-B\-I\-T~( ( {\bf Stack\-Type\-\_\-t} ) 0x80 )}}\label{SDCC_2Cygnal_2port_8c_a21f6ad49a2286a8c53bd5da602351487}
\hypertarget{SDCC_2Cygnal_2port_8c_a3b89bf729488db5c18a40f8a016e3838}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!port\-I\-N\-I\-T\-I\-A\-L\-\_\-\-P\-S\-W@{port\-I\-N\-I\-T\-I\-A\-L\-\_\-\-P\-S\-W}}
\index{port\-I\-N\-I\-T\-I\-A\-L\-\_\-\-P\-S\-W@{port\-I\-N\-I\-T\-I\-A\-L\-\_\-\-P\-S\-W}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{port\-I\-N\-I\-T\-I\-A\-L\-\_\-\-P\-S\-W}]{\setlength{\rightskip}{0pt plus 5cm}\#define port\-I\-N\-I\-T\-I\-A\-L\-\_\-\-P\-S\-W~( ( {\bf Stack\-Type\-\_\-t} ) 0x00 )}}\label{SDCC_2Cygnal_2port_8c_a3b89bf729488db5c18a40f8a016e3838}
\hypertarget{SDCC_2Cygnal_2port_8c_a60c2a5e51d2dcbefaeb7201dc327d2c1}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!port\-M\-A\-X\-\_\-\-T\-I\-M\-E\-R\-\_\-\-V\-A\-L\-U\-E@{port\-M\-A\-X\-\_\-\-T\-I\-M\-E\-R\-\_\-\-V\-A\-L\-U\-E}}
\index{port\-M\-A\-X\-\_\-\-T\-I\-M\-E\-R\-\_\-\-V\-A\-L\-U\-E@{port\-M\-A\-X\-\_\-\-T\-I\-M\-E\-R\-\_\-\-V\-A\-L\-U\-E}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{port\-M\-A\-X\-\_\-\-T\-I\-M\-E\-R\-\_\-\-V\-A\-L\-U\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define port\-M\-A\-X\-\_\-\-T\-I\-M\-E\-R\-\_\-\-V\-A\-L\-U\-E~( ( uint32\-\_\-t ) 0xffff )}}\label{SDCC_2Cygnal_2port_8c_a60c2a5e51d2dcbefaeb7201dc327d2c1}
\hypertarget{SDCC_2Cygnal_2port_8c_a8d3a167375b5b57944a57df23d45b39e}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!port\-R\-E\-S\-T\-O\-R\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T@{port\-R\-E\-S\-T\-O\-R\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T}}
\index{port\-R\-E\-S\-T\-O\-R\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T@{port\-R\-E\-S\-T\-O\-R\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{port\-R\-E\-S\-T\-O\-R\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define port\-R\-E\-S\-T\-O\-R\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T(
\begin{DoxyParamCaption}
\item[{}]{{\bf void}}
\end{DoxyParamCaption}
)}}\label{SDCC_2Cygnal_2port_8c_a8d3a167375b5b57944a57df23d45b39e}
{\bfseries Value\-:}
\begin{DoxyCode}
\{                                                                                               \(\backslash\)
    \_asm                                                                                        \(\backslash\)
        pop     \_bp                                                                             \(\backslash\)
        pop     PSW                                                                             \(\backslash\)
        pop     ar1                                                                             \(\backslash\)
        pop     ar0                                                                             \(\backslash\)
        pop     ar7                                                                             \(\backslash\)
        pop     ar6                                                                             \(\backslash\)
        pop     ar5                                                                             \(\backslash\)
        pop     ar4                                                                             \(\backslash\)
        pop     ar3                                                                             \(\backslash\)
        pop     ar2                                                                             \(\backslash\)
        pop     b                                                                               \(\backslash\)
        pop     DPH                                                                             \(\backslash\)
        pop     DPL                                                                             \(\backslash\)
        \textcolor{comment}{/* The next byte of the stack is the IE register.  Only the global                      \(\backslash\)}
\textcolor{comment}{        enable bit forms part of the task context.  Pop off the IE then set                     \(\backslash\)}
\textcolor{comment}{        the global enable bit to match that of the stored IE register. */}                       \(\backslash\)
        pop     ACC                                                                             \(\backslash\)
        JB      ACC.7,0098$                                                                     \(\backslash\)
        CLR     IE.7                                                                            \(\backslash\)
        LJMP    0099$                                                                           \(\backslash\)
    0098$:                                                                                      \(\backslash\)
        SETB    IE.7                                                                            \(\backslash\)
    0099$:                                                                                      \(\backslash\)
        \textcolor{comment}{/* Finally pop off the ACC, which was the first register saved. */}                      \(\backslash\)
        pop     ACC                                                                             \(\backslash\)
        reti                                                                                    \(\backslash\)
    \_endasm;                                                                                    \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{SDCC_2Cygnal_2port_8c_a798f37b250502b49763c54a56b3aa4b0}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!port\-S\-A\-V\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T@{port\-S\-A\-V\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T}}
\index{port\-S\-A\-V\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T@{port\-S\-A\-V\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{port\-S\-A\-V\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define port\-S\-A\-V\-E\-\_\-\-C\-O\-N\-T\-E\-X\-T(
\begin{DoxyParamCaption}
\item[{}]{{\bf void}}
\end{DoxyParamCaption}
)}}\label{SDCC_2Cygnal_2port_8c_a798f37b250502b49763c54a56b3aa4b0}
{\bfseries Value\-:}
\begin{DoxyCode}
\{                                                                                               \(\backslash\)
    \_asm                                                                                        \(\backslash\)
        \textcolor{comment}{/* Push ACC first, as when restoring the context it must be restored                    \(\backslash\)}
\textcolor{comment}{        last (it is used to set the IE register). */}                                            \(\backslash\)
        push    ACC                                                                             \(\backslash\)
        \textcolor{comment}{/* Store the IE register then disable interrupts. */}                                    \(\backslash\)
        push    IE                                                                              \(\backslash\)
        clr     \_EA                                                                             \(\backslash\)
        push    DPL                                                                             \(\backslash\)
        push    DPH                                                                             \(\backslash\)
        push    b                                                                               \(\backslash\)
        push    ar2                                                                             \(\backslash\)
        push    ar3                                                                             \(\backslash\)
        push    ar4                                                                             \(\backslash\)
        push    ar5                                                                             \(\backslash\)
        push    ar6                                                                             \(\backslash\)
        push    ar7                                                                             \(\backslash\)
        push    ar0                                                                             \(\backslash\)
        push    ar1                                                                             \(\backslash\)
        push    PSW                                                                             \(\backslash\)
    \_endasm;                                                                                    \(\backslash\)
        PSW = 0;                                                                                \(\backslash\)
    \_asm                                                                                        \(\backslash\)
        push    \_bp                                                                             \(\backslash\)
    \_endasm;                                                                                    \(\backslash\)
\}
\end{DoxyCode}
\hypertarget{SDCC_2Cygnal_2port_8c_aba58c81908613d65d0215a70cc1a521d}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!port\-T\-I\-M\-E\-R\-\_\-2\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-E\-N\-A\-B\-L\-E@{port\-T\-I\-M\-E\-R\-\_\-2\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-E\-N\-A\-B\-L\-E}}
\index{port\-T\-I\-M\-E\-R\-\_\-2\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-E\-N\-A\-B\-L\-E@{port\-T\-I\-M\-E\-R\-\_\-2\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-E\-N\-A\-B\-L\-E}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{port\-T\-I\-M\-E\-R\-\_\-2\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-E\-N\-A\-B\-L\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define port\-T\-I\-M\-E\-R\-\_\-2\-\_\-\-I\-N\-T\-E\-R\-R\-U\-P\-T\-\_\-\-E\-N\-A\-B\-L\-E~( ( uint8\-\_\-t ) 0x20 )}}\label{SDCC_2Cygnal_2port_8c_aba58c81908613d65d0215a70cc1a521d}


\subsection{Typedef Documentation}
\hypertarget{SDCC_2Cygnal_2port_8c_af5b0f7452857787ed70ce2856ca74c4b}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!T\-C\-B\-\_\-t@{T\-C\-B\-\_\-t}}
\index{T\-C\-B\-\_\-t@{T\-C\-B\-\_\-t}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{T\-C\-B\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf void} {\bf T\-C\-B\-\_\-t}}}\label{SDCC_2Cygnal_2port_8c_af5b0f7452857787ed70ce2856ca74c4b}


\subsection{Function Documentation}
\hypertarget{SDCC_2Cygnal_2port_8c_a474fbbb58ea661a1557f05adc41120c1}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!px\-Port\-Initialise\-Stack@{px\-Port\-Initialise\-Stack}}
\index{px\-Port\-Initialise\-Stack@{px\-Port\-Initialise\-Stack}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{px\-Port\-Initialise\-Stack}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Stack\-Type\-\_\-t}$\ast$ px\-Port\-Initialise\-Stack (
\begin{DoxyParamCaption}
\item[{{\bf Stack\-Type\-\_\-t} $\ast$}]{px\-Top\-Of\-Stack, }
\item[{{\bf Task\-Function\-\_\-t}}]{px\-Code, }
\item[{{\bf void} $\ast$}]{pv\-Parameters}
\end{DoxyParamCaption}
)}}\label{SDCC_2Cygnal_2port_8c_a474fbbb58ea661a1557f05adc41120c1}
\hypertarget{SDCC_2Cygnal_2port_8c_af76f3c0b44c5b5c06fc046a4ee1a6423}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!v\-Port\-End\-Scheduler@{v\-Port\-End\-Scheduler}}
\index{v\-Port\-End\-Scheduler@{v\-Port\-End\-Scheduler}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{v\-Port\-End\-Scheduler}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-End\-Scheduler (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{SDCC_2Cygnal_2port_8c_af76f3c0b44c5b5c06fc046a4ee1a6423}
\hypertarget{SDCC_2Cygnal_2port_8c_add01c927fb689f7ec170e42d47d27927}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!v\-Port\-Yield@{v\-Port\-Yield}}
\index{v\-Port\-Yield@{v\-Port\-Yield}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{v\-Port\-Yield}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Port\-Yield (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{SDCC_2Cygnal_2port_8c_add01c927fb689f7ec170e42d47d27927}
\hypertarget{SDCC_2Cygnal_2port_8c_ae1064ff55886ef9cf64f424672819a27}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!v\-Timer2\-I\-S\-R@{v\-Timer2\-I\-S\-R}}
\index{v\-Timer2\-I\-S\-R@{v\-Timer2\-I\-S\-R}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{v\-Timer2\-I\-S\-R}]{\setlength{\rightskip}{0pt plus 5cm}{\bf void} v\-Timer2\-I\-S\-R (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{SDCC_2Cygnal_2port_8c_ae1064ff55886ef9cf64f424672819a27}
\hypertarget{SDCC_2Cygnal_2port_8c_ade5a8c6666e7413a0355cc252029c5c6}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!x\-Port\-Start\-Scheduler@{x\-Port\-Start\-Scheduler}}
\index{x\-Port\-Start\-Scheduler@{x\-Port\-Start\-Scheduler}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{x\-Port\-Start\-Scheduler}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Base\-Type\-\_\-t} x\-Port\-Start\-Scheduler (
\begin{DoxyParamCaption}
\item[{{\bf void}}]{}
\end{DoxyParamCaption}
)}}\label{SDCC_2Cygnal_2port_8c_ade5a8c6666e7413a0355cc252029c5c6}


\subsection{Variable Documentation}
\hypertarget{SDCC_2Cygnal_2port_8c_af7b1fc0a36e224b885fb22b9936a03a2}{\index{S\-D\-C\-C/\-Cygnal/port.\-c@{S\-D\-C\-C/\-Cygnal/port.\-c}!px\-Current\-T\-C\-B@{px\-Current\-T\-C\-B}}
\index{px\-Current\-T\-C\-B@{px\-Current\-T\-C\-B}!SDCC/Cygnal/port.c@{S\-D\-C\-C/\-Cygnal/port.\-c}}
\subsubsection[{px\-Current\-T\-C\-B}]{\setlength{\rightskip}{0pt plus 5cm}volatile {\bf T\-C\-B\-\_\-t}$\ast$ volatile px\-Current\-T\-C\-B}}\label{SDCC_2Cygnal_2port_8c_af7b1fc0a36e224b885fb22b9936a03a2}
